# 高精度非负整数

??? note "代码参考"

    ```c++ title="uintbg.cpp"
    #include <iostream>
    #include <string>
    #include <cstdlib>
    #include <vector>

    using namespace std;

    struct uintbg {
        string x;
        uintbg() { x += '0'; }
        uintbg(unsigned long long val) 
        {
            if (val == 0) { x = '0'; return; }
            while (val)
            {
                x += val % 10 + '0';
                val /= 10;
            }
        }
        uintbg(const string& s)
        {
            x = string(s.rbegin(), s.rend());
        }
        uintbg(const char* s)
        {
            string x(s);
            this->x = string(x.rbegin(), x.rend());
        }
        uintbg& operator=(const uintbg& b) { x = b.x; return *this; }
    };

    bool operator==(const uintbg& a, const uintbg& b)
    {
        if (a.x.size() != b.x.size()) return false;
        for (int i = 0; i < int (a.x.size()); i ++)
            if (a.x[i] != b.x[i]) return false;                                                              
        return true;
    }

    bool operator<(const uintbg& a, const uintbg& b)
    {
        if (a.x.size() > b.x.size()) return false;
        if (a.x.size() < b.x.size()) return true;
        for (int i = int (a.x.size()) - 1; i >= 0; i --)
        {
            if (a.x[i] < b.x[i]) return false;
            if (a.x[i] > b.x[i]) return true;
        }
        return false;
    }

    bool operator<=(const uintbg& a, const uintbg& b)
    {
        if (a.x.size() > b.x.size()) return false;
        if (a.x.size() < b.x.size()) return true;
        for (int i = int (a.x.size()) - 1; i >= 0; i --)
        {
            if (a.x[i] < b.x[i]) return false;
            if (a.x[i] > b.x[i]) return true;
        }
        return true;
    }

    bool operator>=(const uintbg& a, const uintbg& b) { return !(a < b); }
    bool operator>(const uintbg& a, const uintbg& b) { return !(a <= b); }

    uintbg operator+(const uintbg& a, const uintbg& b)
    {
        string x;
        int t = 0;
        for (int i = 0; i < int (a.x.size()) || i < int (b.x.size()) || t; i ++)
        {
            if (i < int (a.x.size())) t += a.x[i] - '0';
            if (i < int (b.x.size())) t += b.x[i] - '0';
            x += char (t % 10 + '0'); t /= 10;
        }
        uintbg res; res.x = x;
        return res;
    }

    uintbg operator-(const uintbg& a, const uintbg& b)
    {
        if (a < b) { exit(211001); }
        string x;
        int t = 0;
        for (int i = 0; i < int (a.x.size()); i ++)
        {
            t += a.x[i]; 
            if (i < int (b.x.size())) t -= b.x[i];
            if (t < 0) { x += t + 10 + '0'; t = -1; }
            else x += char(t + '0');
        }
        for (t = x.size() - 1; t > 0 && x[t] == '0'; t --);
        uintbg res; res.x = string(x.begin(), x.begin() + t + 1);
        return res;
    }

    uintbg operator*(const uintbg& a, const uintbg& b)
    {
        vector<long long> t(int (a.x.size()) + int (b.x.size()) + 1, 0);
        string x;
        for (int i = 0; i < int (a.x.size()); i ++)
        {
            for (int j = 0; j < int (b.x.size()); j ++)
                t[i + j] += (a.x[i] - '0') * (b.x[j] - '0');
        }
        int k = 0;
        for (int i = 0; i < int (a.x.size()) + int (b.x.size()); i ++)
        {
            t[i + 1] += t[i] / 10; 
            t[i] %= 10; x += char(t[i] + '0');
            if (t[i]) k = i;
        }
        uintbg res; res.x = string(x.begin(), x.begin() + k + 1);
        return res;
    }

    uintbg& operator*=(uintbg& a, const uintbg& b) { return a = a * b; }
    uintbg& operator-=(uintbg& a, const uintbg& b) { return a = a - b; }
    uintbg& operator+=(uintbg& a, const uintbg& b) { return a = a + b; }

    ostream& operator<<(ostream& ot, const uintbg& a)
    {
        ot << string(a.x.rbegin(), a.x.rend()); return ot;
    }

    istream& operator>>(istream& in, uintbg& a)
    {
        string x; char c = getchar();
        while (c < '0' || c > '9') c = getchar();
        while (c >= '0' && c <= '9') { x += c; c = getchar(); }
        a.x = string(x.rbegin(), x.rend());
        return in;
    }
    ```